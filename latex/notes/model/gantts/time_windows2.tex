% Same month implies one month
% so i need to take one month after summing the amount of months of the duration

\definecolor{color1}{HTML}{FFFFCC}
\definecolor{color2}{HTML}{FFEDA0}
\definecolor{color3}{HTML}{ff0000}
\definecolor{color4}{HTML}{00ff00}
\newcommand\Dganttbar[5]{
    \ganttbar[#5]{#1}{#3}{#4}\ganttbar[inline,bar label font=\tiny\bfseries, #5]{#2}{#3}{#4}
}
\begin{ganttchart}[
    expand chart=\textwidth,
    hgrid,
    vgrid,
    time slot format=isodate,
    time slot unit=month
]{2017-08-01}{2024-06-01}
    \Dganttbar{(b)}{M}{2018-03-01}{2018-08-01}{bar/.append style={fill=color1}}
    \Dganttbar{(b)}{M}{2023-07-01}{2023-12-01}{bar/.append style={fill=color1}}
    \Dganttbar{(b)}{$j$}{2019-02-01}{2020-07-01}{bar/.append style={fill=color1}}
    \ganttvrule[]{$t_1$}{2018-02-01}
    \ganttvrule[]{$t_2$}{2023-06-01}
    \ganttvrule[]{\hspace{-30pt} $\mathcal{T}_A$}{2018-08-01}
    \ganttvrule[]{\hspace{-30pt}$\mathcal{T}_B$}{2023-12-01}
    \ganttvrule[]{$t$}{2019-01-01}
    \ganttvrule[]{$t'$}{2020-07-01}
\end{ganttchart}
