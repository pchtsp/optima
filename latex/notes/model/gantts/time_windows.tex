% Same month implies one month
% so i need to take one month after summing the amount of months of the duration

\definecolor{color1}{HTML}{FFFFCC}
\definecolor{color2}{HTML}{FFEDA0}
\definecolor{color3}{HTML}{ff0000}
\definecolor{color4}{HTML}{00ff00}
\newcommand\Dganttbar[5]{
    \ganttbar[#5]{#1}{#3}{#4}\ganttbar[inline,bar label font=\tiny\bfseries, #5]{#2}{#3}{#4}
}
\begin{ganttchart}[
    expand chart=\textwidth,
    hgrid,
    vgrid,
    time slot format=isodate,
    time slot unit=month
]{2017-08-01}{2024-06-01}
    \gantttitlecalendar{year} \\
    \Dganttbar{(a)}{M}{2018-03-01}{2018-08-01}{bar/.append style={fill=color1}}
    \Dganttbar{(a)}{M}{2023-07-01}{2023-12-01}{bar/.append style={fill=color1}}
    \ganttvrule[]{$t$}{2018-02-01}
    \ganttvrule[]{$t'$}{2018-08-01}
    \ganttvrule[]{\hspace{25pt} $\mathcal{T}_{t'}^s$}{2018-02-01}
    \ganttvrule[
    vrule label node/.append style={anchor=north west}
    ]{\hspace{50pt} $\mathcal{T}_t^m$}{2018-08-01}
    \ganttvrule[
    vrule label node/.append style={anchor=north west}
    ]{\hspace{50pt} $\mathcal{T}_t^M$}{2021-02-01}
    \ganttvrule[]{}{2023-08-01}
\end{ganttchart}
