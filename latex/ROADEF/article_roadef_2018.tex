% Exemple d'utilisation de la classe roadef2018 pour le congrès ROADEF 2018 (http://roadef2018.labsticc.fr)

\documentclass{roadef}
\usepackage{amsmath}

\begin{document}


% Le titre du papier
\title{Maintenance planning on french military aircraft operations}

% Le titre court
\def\shorttitle{Titre court}

% Les AUTeurs et leur numéro d'affiliation
\author{Franco Peschiera\inst{1}, Alain Haït\inst{1}, Olga Battaïa\inst{1} }


% Les affiliations (par ordre croissant des numéros d'affiliation) séparées par \and
\institute{
ISAE... \\
\email{\{franco.peschiera\}@isae-supaero.fr}
}


% Création de la page de titre
\maketitle
\thispagestyle{empty}

% Les mots-clés
\keywords{optimization, planning, military, maintenance}


\section{Introduction}

The Flight and Maintenance Planning is a very well known and studied problem in the aviation industry. It

...

Military Flight and Maintenance Planning...

TODO.


\section{The problem}

    % Missing: 
    % * horizon constraints (initial, ending)
    % * Prefer new
    % * Total hours
    % * 

    \subsection{Tasks}
    \label{def:task}

    There is a set of $\vert V \vert$ tasks to do in a given planning horizon divided into $t \in T$ periods of the same length. Each task $v \in V$ has a given starting ($startTIME_v \in T$) an ending ($endTIME_v \in T$) time. The duration is measured in a certain number of periods. Each task requires (seizes) a certain quantity of resources ($Q_v$). 

    Not all $a \in A$ resources can be used to accomplish any task: each task has specific specifications that a resource need to satisfy in order to be a candidate. In other words, there is a binary parameter $P01VA_{va}$ that indicates task-resource compatibility. A resource can be a candidate for more than one task.

    The taskment of a resource to a task is not decided for the whole duration of the task. After a minimum amount of time $minTIME_v$, a resource can be liberated and exchanged for another one. The total number of resources being used at any given time in a specific task can never be less than the required $REQ_v$.

    \subsection{Resources}

    Resources are what makes possible the completion of tasks. These specific resources suffer from wear and tear and so require a recurrent preventive maintenance in order to be in a correct state. These maintenances need to take place before a given amount of time (we will call it elapsed time $elapsedTIME$) has passed since the previous maintenance or before the resource has been used for a given amount of time (we will call it usage time $usageTIME$) since the previous maintenance, whichever happens first. A resource without the proper maintenance cannot be used to satisfy tasks and is considered worthless.

    Additionally, after an absolute amount of time and/or usage ($AET$ or $AUT$), the resource becomes obsolete. There is no way to reverse this process.

    Each resources starts the planning period with a specific status given by:

    \begin{itemize}
        \item remaining UsageTime.
        \item remaining ElapsedTime.
        \item remaining UsageTimeAbs.
        \item remaining ElapseTimeAbs.
        \item LastMaintenanceType (see \ref{def:maint}).
    \end{itemize}

    Finally, resources are organized into families or groups. Each resource inside in a family or group shares the same types of maintenances and, usually, the same kind of tasks, among other information.

    \paragraph{Resource's states}
    \label{def:res-state}

    The following are the possible states for a resource in any given time:

    \begin{itemize}
        \item tasked to a task (see \ref{def:task}).
        \item Under maintenance (see \ref{def:maint}).
        \item Under storage (see \ref{def:sto}).
        \item Waiting maintenance.
        \item Obsolete.
        \item Available (none of the above).
    \end{itemize}

    \subsection{Maintenances}
    \label{def:maint}

    These maintenances take an amount of time equal to $mTIME_m$ periods and cannot be interrupted. The state of the resource after exiting the maintenance period is of "as good as new" in terms of the two indicators that decide the maintenance (ElapsedTime and UsageTime).
    
    In other words, after receiving maintenance $m \in M$, a resource restores its remaining ElapsedTime and remaining UsageTime back to their max values $elapsedTIME$ and $usageTIME$ respectively.

    The number of resources under maintenance in any given period is limited to a maximum capacity ($mCap_t$) depending on each period.

    Not all maintenances are the same for any given resource. Each resources follows a sequence of maintenances. In other words, the second maintenance of a given resource is different in nature from the first maintenance for that same resource. Examples of differences on consecutive maintenances for a given resource are the duration ($mTIME_m$) it takes or whether it restores storage capacity (see \ref{def:sto}).

    \subsection{Storage}
    \label{def:sto}

    We have already explained that even if a resource is not being used, it still needs to have a maintenance after a given amount of time (the elapsed time $elapsedTIME$). In order to avoid this problem, the resource can be put into a "storage" state.

    A resource in this states has to be kept for a minimum time of $sMin$ periods. While in this state it cannot receive maintenance or be tasked any task.

    Every resource has the capacity to be stored, although it is limited. This capacity (measured in a number of periods $sCap$) is expended every time the resource is stored. In order for a resource to reset its remaining storage capacity, it needs to received a specific maintenance (see \ref{def:maint}).

    \subsection{Objectives}
    
    The are multiple objectives that need to be taken into account. 

    Given that the creation of new tasks and the duration of maintenance times are considered stochastic, the basic goal is to maximize the robustness of the planning. 

    Given the limited amount of maintenance capacity and its cost, another goal is to smooth as much as possible the maintenance tasks over the planning horizon.

    \begin{enumerate}
        \item Maximize the minimum number of available resources (see \ref{def:res-state}) in any given period.
        \item Minimize the maximum number of resources under maintenance in any given period.
    \end{enumerate}

    \subsection{Decisions}

    The decisions involve, basically, the management of these resources. 

    We can summarize the main decisions into the following:

    \begin{itemize}
        \item deciding the state of each resource $a$ in each period $t$.
        \item if a resource $a$ is tasked to some task in period $t$: decide which task $v$.
    \end{itemize}

    % \begin{figure}[!ht]
    %     \begin{center}
    %         \includegraphics[height=2cm,clip=true]{roadef_logo.eps}
    %         \caption[Fig]{Logo de la ROADEF}
    %         \label{logoRoadef}
    %     \end{center}
    % \end{figure}

    % \begin{equation}
    % E=MC^2\label{emc}
    % \end{equation}

    % \begin{theoreme}
    %   Un exemple de théorème. Les environnements suivants sont également disponibles : remarque, propriété, corollaire, définition, notation, proposition, exemple, preuve.
    % \end{theoreme}

    % \subsection{Tableau}

    % Le titre du tableau devra être positionné sous le tableau (par exemple Tableau \ref{tableau}).

    % \begin{table}[!ht]
    %     \begin{center}
    %         \begin{tabular}{lrr}
    %             \hline
    %             & \multicolumn{1}{c}{Colonne 1} & \multicolumn{1}{c}{Colonne 2}\\
    %             \hline
    %             Ligne 1 & L1C1 & L1C2\\
    %             Ligne 2 & L2C1 & L2C2\\
    %             \hline
    %         \end{tabular}
    %         \caption{Exemple de tableau}
    %     \label{tableau}
    %     \end{center}
    % \end{table}

    % \subsection{Liste}

    % Voici une liste :

    % \begin{itemize}
    % \item remarque
    % \item propriété
    % \end{itemize}

\section{The model}

    Below are the parameters used in the model.

    \begin{tabular}{p{40mm}lp{80mm}}
    $CAP_t$               & : & number of resources that can be in maintenance in period $t$. \\
    $CAND_v$              & : & resources that satisfy task's $v$ needs. \\
    $REQ\_H_{vt}$             & : & time consumed of any resource when assigned to task $v$ in period $t$. \\
    $REQ\_R_{vt}$            & : & number or resources to assign to task $v$ in period $t$. \\            
    $MAX\_USAGE$         & : & maximum amount of used time that a resource can have between two maintenances. \\    
    $MAX\_ELAPSED$       & : & maximum amount of elapsed time that a resource can have between two maintenances. \\    
    $M\_DURATION$        & : & maintenance duration, in periods. \\        
    $REM\_USED\_INIT_a$     & : & remaining used time for resource $a$ at the beginning of horizon. \\        
    $REM\_ELAPSED\_INIT_a$  & : & remaining elapsed time for resource $a$ at the beginning of horizon. \\
    \end{tabular}
    \bigskip

    Below are the variables used in the model.

    \section{Decision variables}

    \begin{tabular}{p{30mm}lp{90mm}}
        $ret_{at}$       & : & remaining elapsed time for resource $a$ after period $t$ \\  
        $rut_{at}$       & : & remaining usage time for resource $a$ after period $t$ \\  
        $task_{avt}$    & : & 1 if resource $a \in CAND_v$ is assigned task $v$ in period $t$ \\  
        $state_{ast}$   & : & 1 if resource $a$ is assigned state $s$ in period $t$ \\  
        $used_{at}$     & : & time consumed by resource $a$ in period $t$ \\
        $start_{at}$     & : & 1 if resource $a$ starts maintenance in period $t$ \\
        $available$     & : & minimum number of available resources in any period \\
        $maintenance$     & : & maxium number of resources in maintenance in any period \\
    \end{tabular}
    \bigskip

    \begin{align}
        %%%%%%%%%%%%%%%%%%%
        % MAIN VARS
        %%%%%%%%%%%%%%%%%%%
        % definition of consumed resource hours:
        & used_{at} = \sum_{v \in \mathcal{V}} task_{avt} \times REQ\_H_{vt}
                \hspace{10mm} a \in \mathcal{A}, t \in \mathcal{T} \label{eq:usage}\\
        % maximum capacity:
        & \sum_{a \in \mathcal{A}} state_{ast} \leq CAP_{t}
                \hspace{10mm} t \in \mathcal{T}, s = 'M' \label{eq:capacity}\\
        % minimum resources
        & \sum_{a \in \mathcal{A}} task_{avt} \geq REQ\_R_{vt}
                \hspace{10mm} t \in \mathcal{T}, v \in \mathcal{V} \label{eq:resources}\\
        % max one task per period
        & \sum_{v \in \mathcal{V}} task_{avt} \leq 1
                \hspace{10mm} t \in \mathcal{T}, a \in \mathcal{A} \label{eq:resources}\\
        %%%%%%%%%%%%%%%%%%%
        % BALANCES
        %%%%%%%%%%%%%%%%%%%
        % remaining used time
        & rut_{at} \leq (rut_{at-1} - used_{at}) + (MAX\_USAGE \times start_{at})
                \hspace{10mm} t \in \mathcal{T}, a \in \mathcal{A} \label{eq:balance1}\\
        % remaining elapsed time. TODO: improve this constraint like the maintenance state duration
        & ret_{at} \leq (ret_{at-1} - 1) + (MAX\_ELAPSED \times start_{at})
                \hspace{10mm} t \in \mathcal{T}, a \in \mathcal{A} \label{eq:balance2}\\
        %%%%%%%%%%%%%%%%%%%
        % STATES
        %%%%%%%%%%%%%%%%%%%
        % if start maintenance, at least X periods
        & state_{ast_2} \geq start_{at_1} \\
                & \hspace{10mm} (t_1, t_2) \in \mathcal{T}, t_1 \leq t_2 \leq t_1 + M\_DURATION, a \in \mathcal{A}, s = 'M' \label{eq:state1}\\
        % if assigned to task; in workng state
        & state_{ast} \geq task_{avt}
                \hspace{10mm} t \in \mathcal{T}, a \in \mathcal{A}, s = 'V' \label{eq:state2}\\
        % only one state. If we take out the 'do nothing' state, this could be \leq
        & \sum_{s \in \mathcal{S}} state_{ast} = 1
                \hspace{10mm} t \in \mathcal{T}, a \in \mathcal{A} \label{eq:state3}\\
        %%%%%%%%%%%%%%%%%%%
        % OBJECTIVE
        %%%%%%%%%%%%%%%%%%%
        % min available
        & available \leq \sum_{a} state_{ast}
                \hspace{10mm} t \in \mathcal{T}, a \in \mathcal{A}, s = 'N' \label{eq:available}\\
        % max maintenance
        & maintenance \geq \sum_{a} state_{ast}
                \hspace{10mm} t \in \mathcal{T}, a \in \mathcal{A}, s = 'N' \label{eq:maintenance}\\
        %%%%%%%%%%%%%%%%%%%
        % HORIZON
        %%%%%%%%%%%%%%%%%%%
        % rut initialize
        & rut_{at} = REM\_USED\_INIT_a
                \hspace{10mm} t = 0, a \in \mathcal{A} \label{eq:initialize1}\\
        % ret initialize
        & ret_{at} = REM\_ELAPSED\_INIT_a
                \hspace{10mm} t = 0, a \in \mathcal{A} \label{eq:initialize2}\\
    \end{align}

\section{Conclusions et perspectives}
    
    TODO.


% La bibliographie

\bibliographystyle{plain}

% Version "on-line" de la bibliographie, mais il est
% également possible d'utiliser un fichier ".bib" et d'utiliser BibTeX


% \begin{thebibliography}{2}
% \bibitem{toth02}
% Paolo Toth and Daniele Vigo.
% \newblock \emph{The Vehicle Routing Problem}.
% \newblock Monographs on Discrete Mathematics and Applications. Society for Industrial and Applied Mathematics, 2002.
% \bibitem{kirkpatrick83}
% Scott Kirkpatrick, C~Daniel Gelatt, and Mario~P Vecchi.
% \newblock Optimization by simmulated annealing.
% \newblock \emph{science}, 220\penalty0 (4598):\penalty0 671--680, 1983.


% \end{thebibliography}


\end{document}
